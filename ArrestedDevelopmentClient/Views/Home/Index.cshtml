@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>


<p>Limit: @(ViewBag.CurrentPage <= (ViewBag.LastId / ViewBag.PageSize -2) ? ViewBag.CurrentPage + 3 : ((ViewBag.LastId / ViewBag.PageSize) + 1))</p>
<p>ViewBag.CurrentPage <= ViewBag.LastId / ViewBag.PageSize -2: @(ViewBag.CurrentPage <= (ViewBag.LastId / ViewBag.PageSize -2))</p>
<p>(ViewBag.CurrentPage > 3 ? ViewBag.CurrentPage - 3 : 1): @(ViewBag.CurrentPage > 3 ? ViewBag.CurrentPage - 3 : 1)</p>
<div class="button-area">
@if (ViewBag.CurrentPage > 1) {
    <a href='/?page=@(ViewBag.CurrentPage - 1)&pageSize=@ViewBag.PageSize'>
        <button>Prev</button>
    </a>
}
 @for (var i = (ViewBag.CurrentPage > 3 ? ViewBag.CurrentPage - 3 : 1); i < (ViewBag.CurrentPage <= ((ViewBag.LastId / ViewBag.PageSize) -2) ? ViewBag.CurrentPage + 3 : ((ViewBag.LastId / ViewBag.PageSize) + 1)); i++) {
    <a class="page-link">@(i)</a>
}
@if (ViewBag.CurrentPage < ((ViewBag.LastId / ViewBag.PageSize) + 1))
{
    <a href='/?page=@(ViewBag.CurrentPage + 1)&pageSize=@ViewBag.PageSize'>
        <button>Next</button>
    </a>
}
</div>

<h1>All Quotes</h1>
@if (Model != null)
{
<ul>
    @foreach (Quote quote in Model)
    {
        <li>Text: @quote.Text</li>
        <li>Speaker: @quote.Speaker</li>
        <li>Number of Words: @quote.NumberOfWords</li>
        <p></p>
    }
</ul>
}
else
{
    <p>No quotes found</p>
}

